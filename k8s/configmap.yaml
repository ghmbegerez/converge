apiVersion: v1
kind: ConfigMap
metadata:
  name: converge-config
  labels:
    app: converge
data:
  # Database
  CONVERGE_DB_BACKEND: "postgres"
  CONVERGE_PG_DSN: "postgresql://converge:converge@postgres-service:5432/converge"

  # API
  CONVERGE_AUTH_REQUIRED: "1"
  CONVERGE_RATE_LIMIT_ENABLED: "1"
  CONVERGE_RATE_LIMIT_RPM: "120"

  # Worker
  CONVERGE_WORKER_POLL_INTERVAL: "5"
  CONVERGE_WORKER_BATCH_SIZE: "20"
  CONVERGE_WORKER_MAX_RETRIES: "3"
  CONVERGE_WORKER_TARGET: "main"
  CONVERGE_WORKER_AUTO_CONFIRM: "0"

  # GitHub App (non-secret parts)
  CONVERGE_GITHUB_APP_PRIVATE_KEY_PATH: "/secrets/github-app/private-key.pem"
